<mujoco model="sdog">
  <compiler angle="radian" meshdir="../meshes/"/>
  <size njmax="500" nconmax="100" />
  <option gravity='0 0 -9.806' iterations='50' solver='Newton' timestep='0.005'/>

  <default>
    <default class="visual">
      <geom contype="0" conaffinity="0" group="1" rgba="0.89 0.89 0.91 1" />
    </default>
    
    <default class="collision">
      <geom contype="1" conaffinity="1" group="0" rgba="0 0.5 0.8 0.5" friction="0.9 0.5 0.1" solimp="0.95 0.99 0.001" solref="0.005 1"/>
    </default>

    <motor ctrlrange="-0.45 0.45" ctrllimited="true"/>
    <!-- <joint damping="0.02" armature="0.01" frictionloss="0.02" /> -->
  </default>

  <asset>
    <mesh name="base" file="base.STL" />
    <mesh name="body" file="body.STL" />
    <mesh name="fr_hip" file="fr_hip.STL" />
    <mesh name="fr_thigh" file="fr_thigh.STL" />
    <mesh name="fr_calf" file="fr_calf.STL" />
    <mesh name="fr_foot" file="fr_foot.STL" />
    <mesh name="fl_hip" file="fl_hip.STL" />
    <mesh name="fl_thigh" file="fl_thigh.STL" />
    <mesh name="fl_calf" file="fl_calf.STL" />
    <mesh name="fl_foot" file="fl_foot.STL" />
    <mesh name="br_hip" file="br_hip.STL" />
    <mesh name="br_thigh" file="br_thigh.STL" />
    <mesh name="br_calf" file="br_calf.STL" />
    <mesh name="br_foot" file="br_foot.STL" />
    <mesh name="bl_hip" file="bl_hip.STL" />
    <mesh name="bl_thigh" file="bl_thigh.STL" />
    <mesh name="bl_calf" file="bl_calf.STL" />
    <mesh name="bl_foot" file="bl_foot.STL" />

    <texture type="skybox" builtin="flat" rgb1="0 0 0" rgb2="0 0 0" width="512" height="512"/>
    <texture type="2d" name="groundplane" builtin="checker" mark="edge" rgb1="0.2 0.3 0.4" rgb2="0.1 0.2 0.3" markrgb="0.8 0.8 0.8" width="300" height="300"/>
    <material name="groundplane" texture="groundplane" texuniform="true" texrepeat="5 5" reflectance="0.2"/>
  </asset>

  <visual>
    <headlight diffuse="0.6 0.6 0.6" ambient="0.1 0.1 0.1" specular="0.9 0.9 0.9"/>
    <rgba haze="0.15 0.25 0.35 1"/>
    <global azimuth="-140" elevation="-20"/>
  </visual>

  <worldbody>
    <light directional="true" diffuse=".8 .8 .8" pos="0 0 10" dir="0 0 -10"/>
    <camera name="track" mode="trackcom" pos="0 -0.5 0.3" xyaxes="1 0 0 0 0.707 0.707"/>
    <geom name='floor' type='plane' conaffinity='1' condim='3' contype='1' material='groundplane' pos='0 0 0' size='0 0 1'/>

    <body name="base" pos="0 0 0.20">
      <freejoint name="floating_base" />
      <inertial pos="-0.0034 -0.00025 -0.012" mass="0.188" fullinertia="7.6e-5 5.2e-4 5.5e-4 0 0 0" />
      
      <geom name="base_vis" type="mesh" mesh="base" class="visual" />
      <geom name="body_vis" type="mesh" mesh="body" class="visual" />
      
      <geom name="body_col" type="box" size="0.075 0.035 0.025" pos="0 0 -0.01" class="collision"/>

      <site name="imu_site" pos="0 0 0" size="0.005" rgba="1 0 0 1"/>

      <body name="fr_hip" pos="0.062526 -0.02085 0">
        <inertial pos="0.0023 -0.025 0.0055" mass="0.0106" diaginertia="4.1e-6 1.5e-6 4.3e-6" />
        <joint name="fr_hip_joint" axis="1 0 0" range="-0.5 0.5" />
        <geom name="fr_hip_vis" type="mesh" mesh="fr_hip" class="visual"/>
        <geom name="fr_hip_col" type="cylinder" size="0.015 0.02" quat="0.707 0 0.707 0" class="collision"/>
        
        <body name="fr_thigh" pos="0.00031911 -0.03686 0">
          <inertial pos="-0.00005 0.0027 -0.028" mass="0.045" diaginertia="1.7e-5 1.6e-5 4.2e-6" />
          <joint name="fr_thigh_joint" axis="0 1 0" range="-1 2" />
          <geom name="fr_thigh_vis" type="mesh" mesh="fr_thigh" class="visual"/>
          <geom name="fr_thigh_col" type="capsule" fromto="0 0 0 0 0 -0.059" size="0.011" class="collision"/>
          
          <body name="fr_calf" pos="-1.45e-05 0 -0.059049">
            <inertial pos="0.0005 -0.0014 -0.035" mass="0.0128" diaginertia="7.4e-6 7.6e-6 5.9e-7" />
            <joint name="fr_calf_joint" axis="0 1 0" range="-2.69 -0.5" />
            <geom name="fr_calf_vis" type="mesh" mesh="fr_calf" class="visual"/>
            <geom name="fr_calf_col" type="capsule" fromto="0 0 0 0 0 -0.066" size="0.009" class="collision"/>
            
            <body name="fr_foot" pos="0 0 -0.065878">
              <inertial pos="-0.002 -0.00001 -0.002" mass="0.0016" diaginertia="7.5e-8 3.8e-8 7.7e-8" />
              <geom name="fr_foot_vis" type="mesh" mesh="fr_foot" class="visual"/>
              <geom name="fr_foot_col" type="sphere" size="0.01" pos="0 0 0" class="collision" friction="1.5 0.005 0.0001"/>
            </body>
          </body>
        </body>
      </body>

      <body name="fl_hip" pos="0.062526 0.020224 0">
        <inertial pos="0.0023 0.0258 0.0055" mass="0.0106" diaginertia="4.1e-6 1.5e-6 4.3e-6" />
        <joint name="fl_hip_joint" axis="1 0 0" range="-0.5 0.5" />
        <geom name="fl_hip_vis" type="mesh" mesh="fl_hip" class="visual"/>
        <geom name="fl_hip_col" type="cylinder" size="0.015 0.02" quat="0.707 0 0.707 0" class="collision"/>

        <body name="fl_thigh" pos="0.00031911 0.037482 0">
          <inertial pos="-0.00005 -0.0027 -0.028" mass="0.045" diaginertia="1.7e-5 1.6e-5 4.2e-6" />
          <joint name="fl_thigh_joint" axis="0 1 0" range="-1 2" />
          <geom name="fl_thigh_vis" type="mesh" mesh="fl_thigh" class="visual"/>
          <geom name="fl_thigh_col" type="capsule" fromto="0 0 0 0 0 -0.059" size="0.011" class="collision"/>

          <body name="fl_calf" pos="-1.45e-05 0 -0.059049">
            <inertial pos="0.0005 0.0014 -0.035" mass="0.0128" diaginertia="7.4e-6 7.6e-6 5.9e-7" />
            <joint name="fl_calf_joint" axis="0 1 0" range="-2.69 -0.5" />
            <geom name="fl_calf_vis" type="mesh" mesh="fl_calf" class="visual"/>
            <geom name="fl_calf_col" type="capsule" fromto="0 0 0 0 0 -0.066" size="0.009" class="collision"/>

            <body name="fl_foot" pos="-0.00030458 0 -0.065887">
              <inertial pos="-0.0021 0.00001 -0.0022" mass="0.0016" diaginertia="7.5e-8 3.8e-8 7.7e-8" />
              <geom name="fl_foot_vis" type="mesh" mesh="fl_foot" class="visual"/>
              <geom name="fl_foot_col" type="sphere" size="0.01" pos="0 0 0" class="collision" friction="1.5 0.005 0.0001"/>
            </body>
          </body>
        </body>
      </body>

      <body name="br_hip" pos="-0.05616 -0.02085 0">
        <inertial pos="-0.0096 -0.0258 0.0055" mass="0.0106" diaginertia="4.1e-6 1.5e-6 4.3e-6" />
        <joint name="br_hip_joint" axis="1 0 0" range="-0.5 0.5" />
        <geom name="br_hip_vis" type="mesh" mesh="br_hip" class="visual"/>
        <geom name="br_hip_col" type="cylinder" size="0.015 0.02" quat="0.707 0 0.707 0" class="collision"/>

        <body name="br_thigh" pos="-0.011685 -0.03686 0">
          <inertial pos="-0.00005 0.002 0.028" mass="0.045" diaginertia="1.7e-5 1.6e-5 4.2e-6" />
          <joint name="br_thigh_joint" axis="0 1 0" range="-1 2" />
          <geom name="br_thigh_vis" type="mesh" mesh="br_thigh" class="visual"/>
          <geom name="br_thigh_col" type="capsule" fromto="0 0 0 0 0 -0.059" size="0.011" class="collision"/>

          <body name="br_calf" pos="0 0 -0.059063">
            <inertial pos="0.0007 -0.0021 -0.035" mass="0.0128" diaginertia="7.4e-6 7.6e-6 5.9e-7" />
            <joint name="br_calf_joint" axis="0 1 0" range="-2.69 -0.5" />
            <geom name="br_calf_vis" type="mesh" mesh="br_calf" class="visual"/>
            <geom name="br_calf_col" type="capsule" fromto="0 0 0 0 0 -0.066" size="0.009" class="collision"/>

            <body name="br_foot" pos="0 0 -0.065864">
              <inertial pos="-0.0021 -0.0006 -0.0022" mass="0.0016" diaginertia="7.5e-8 3.8e-8 7.7e-8" />
              <geom name="br_foot_vis" type="mesh" mesh="br_foot" class="visual"/>
              <geom name="br_foot_col" type="sphere" size="0.01" pos="0 0 0" class="collision" friction="1.5 0.005 0.0001"/>
            </body>
          </body>
        </body>
      </body>

      <body name="bl_hip" pos="-0.067842 0.02085 0">
         <inertial pos="0.002 0.0258 0.0055" mass="0.0106" diaginertia="4.1e-6 1.5e-6 4.3e-6" />
        <joint name="bl_hip_joint" axis="1 0 0" range="-0.5 0.5" />
        <geom name="bl_hip_vis" type="mesh" mesh="bl_hip" class="visual"/>
        <geom name="bl_hip_col" type="cylinder" size="0.015 0.02" quat="0.707 0 0.707 0" class="collision"/>

        <body name="bl_thigh" pos="0 0.036855 0">
           <inertial pos="-0.00006 -0.002 0.028" mass="0.045" diaginertia="1.7e-5 1.6e-5 4.2e-6" />
          <joint name="bl_thigh_joint" axis="0 1 0" range="-1 2" />
          <geom name="bl_thigh_vis" type="mesh" mesh="bl_thigh" class="visual"/>
          <geom name="bl_thigh_col" type="capsule" fromto="0 0 0 0 0 -0.059" size="0.011" class="collision"/>

          <body name="bl_calf" pos="0 0 -0.059063">
             <inertial pos="0.0007 0.002 -0.035" mass="0.0128" diaginertia="7.4e-6 7.6e-6 5.9e-7" />
            <joint name="bl_calf_joint" axis="0 1 0" range="-2.69 -0.5" />
            <geom name="bl_calf_vis" type="mesh" mesh="bl_calf" class="visual"/>
            <geom name="bl_calf_col" type="capsule" fromto="0 0 0 0 0 -0.066" size="0.009" class="collision"/>

            <body name="bl_foot" pos="0 0 -0.065864">
               <inertial pos="-0.0021 0.0006 -0.0022" mass="0.0016" diaginertia="7.5e-8 3.8e-8 7.7e-8" />
              <geom name="bl_foot_vis" type="mesh" mesh="bl_foot" class="visual"/>
              <geom name="bl_foot_col" type="sphere" size="0.01" pos="0 0 0" class="collision" friction="1.5 0.005 0.0001"/>
            </body>
          </body>
        </body>
      </body>
      
    </body>
  </worldbody>

  <actuator>
    <motor name="fr_hip_joint" joint="fr_hip_joint" gear="1" />
    <motor name="fr_thigh_joint" joint="fr_thigh_joint" gear="1" />
    <motor name="fr_calf_joint" joint="fr_calf_joint" gear="1" />
    <motor name="fl_hip_joint" joint="fl_hip_joint" gear="1" />
    <motor name="fl_thigh_joint" joint="fl_thigh_joint" gear="1" />
    <motor name="fl_calf_joint" joint="fl_calf_joint" gear="1" />
    <motor name="br_hip_joint" joint="br_hip_joint" gear="1" />
    <motor name="br_thigh_joint" joint="br_thigh_joint" gear="1" />
    <motor name="br_calf_joint" joint="br_calf_joint" gear="1" />
    <motor name="bl_hip_joint" joint="bl_hip_joint" gear="1" />
    <motor name="bl_thigh_joint" joint="bl_thigh_joint" gear="1" />
    <motor name="bl_calf_joint" joint="bl_calf_joint" gear="1" />
  </actuator>

  <contact>
    <exclude body1="base" body2="fr_hip" />
    <exclude body1="fr_hip" body2="fr_thigh" />
    <exclude body1="fr_thigh" body2="fr_calf" />
    <exclude body1="fr_calf" body2="fr_foot" />
    
    <exclude body1="base" body2="fl_hip" />
    <exclude body1="fl_hip" body2="fl_thigh" />
    <exclude body1="fl_thigh" body2="fl_calf" />
    <exclude body1="fl_calf" body2="fl_foot" />
    
    <exclude body1="base" body2="br_hip" />
    <exclude body1="br_hip" body2="br_thigh" />
    <exclude body1="br_thigh" body2="br_calf" />
    <exclude body1="br_calf" body2="br_foot" />

    <exclude body1="base" body2="bl_hip" />
    <exclude body1="bl_hip" body2="bl_thigh" />
    <exclude body1="bl_thigh" body2="bl_calf" />
    <exclude body1="bl_calf" body2="bl_foot" />
  </contact>

  <sensor>
      <velocimeter name="base_vel" site="imu_site" />
      <accelerometer name="base_acc" site="imu_site"/>
      <gyro name="base_gyro" site="imu_site"/>
      <framepos name="base_pos" objtype="site" objname="imu_site"/>
      <framequat name="base_quat" objtype="site" objname="imu_site"/>
  </sensor>

</mujoco>